import{d as x,h as w,o as n,c as _,a,m as C,l as g,q as I,i as V,r as k,b as o,w as u,e as r,g as y,n as N,u as f,s as h}from"./index-BEx754W9.js";import{u as z}from"./basket-FEb2Xaog.js";import{T as j}from"./trash-2-D9y4OiWn.js";const D={class:"w-full h-full relative"},L=["src"],S=["src"],T=x({__name:"CLazyImage",props:{originalImg:{},defaultImg:{},alt:{},imgClass:{}},setup(b){const c=w(!0);return(t,p)=>(n(),_("div",D,[a("img",C({src:t.originalImg},{alt:t.alt},{class:[t.imgClass,"w-full h-full"],onLoad:p[0]||(p[0]=v=>c.value=!1),loading:"lazy"}),null,16,L),c.value?(n(),_("img",C({key:0,src:t.defaultImg},{alt:t.alt},{class:[t.imgClass,"w-full h-full absolute top-0 left-0 object-cover"]}),null,16,S)):g("",!0)]))}}),Y={class:"grid grid-cols-1 card shadow border rounded-lg hover:shadow-lg transition-all hover:transition-all cursor-pointer"},A={class:"p-2 flex flex-col gap-1 bg-white rounded-b-lg"},P=a("p",{class:"font-bold text-[14px]"},"Монитор для салона BYD SONG PLUS",-1),U=a("p",{class:"text-[12px] text-gray-500"},[a("b",null,"Категория:"),r(" Салон")],-1),q=a("p",{class:"text-[12px] text-gray-500"},[a("b",null,"Количество:"),r(" 10 шт.")],-1),E=a("b",{class:"me-2"},"Цена:",-1),G={class:"mt-2"},M={key:1,class:"flex gap-1"},O=a("span",{class:"ms-2"},"Удалить",-1),J=x({__name:"CCard",props:{card:{type:Boolean},data:{}},emits:["on-delete"],setup(b,{emit:c}){const t=b,p=c,v=z();let e=w(0);const m=w(!1),B=()=>{m.value=!0,e.value+=1,e.value===0&&(m.value=!1)};return I(()=>e.value,()=>{const l=v.basketItems.find(s=>s.id===t.data.id);l||v.basketItems.push(t.data),l&&(l.count=e.value)}),V(()=>{t.data.count&&(e.value=t.data.count)}),(l,s)=>{const i=k("el-button"),$=k("el-input");return n(),_("div",Y,[o(T,{"default-img":"./images/byd-default.webp","original-img":"https://www.topgear.com/sites/default/files/2023/03/12-BYD-Atto-3.jpg",alt:"https://www.topgear.com/sites/default/files/2023/03/12-BYD-Atto-3.jpg","img-class":"min-h-[236px] rounded-t-lg"}),a("div",A,[P,U,q,o(i,{class:"w-full",type:"primary"},{default:u(()=>[E,r(" 200$")]),_:1}),a("div",G,[!l.card&&!m.value?(n(),y(i,{key:0,onClick:B,class:"w-full !ms-0",type:"primary",plain:""},{default:u(()=>[r("В корзину")]),_:1})):g("",!0),m.value||l.card?(n(),_("div",M,[o(i,{class:N(["w-[39px] h-[32px]",f(e)<=0?"!border-[#409eef30]":"!border-[#409eef]"]),disabled:f(e)<=0,onClick:s[0]||(s[0]=d=>h(e)?e.value-=1:e-=1)},{default:u(()=>[r("-")]),_:1},8,["class","disabled"]),o($,{class:"!text-center min-w-[40px]",modelValue:f(e),"onUpdate:modelValue":s[1]||(s[1]=d=>h(e)?e.value=d:e=d)},null,8,["modelValue"]),o(i,{class:"w-[39px] h-[32px] !border-[#409eef]",onClick:s[2]||(s[2]=d=>h(e)?e.value+=1:e+=1)},{default:u(()=>[r("+")]),_:1})])):g("",!0),l.card?(n(),y(i,{key:2,class:"w-full mt-2",type:"danger",plain:"",onClick:s[3]||(s[3]=d=>p("on-delete"))},{default:u(()=>[o(f(j),{"stroke-width":1,size:"20"}),O]),_:1})):g("",!0)])])])}}});export{J as _};
